
<!DOCTYPE html>
<html lang="en">
<head>
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=0LSHte0xuZrXWUrnkEDIIMfwlOnYfiTA"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
    <title>热力图功能示例</title>
    <style type="text/css">
		ul,li{list-style: none;margin:0;padding:0;float:left;}
		html{height:100%}
		body{height:100%;margin:0px;padding:0px;font-family:"微软雅黑";}
		#container{height:100%;width:100%;}
		#r-result{width:100%;}
    </style>
</head>
<body>
	<div id="container"></div>
	<div id="r-result" style="display:none">
		<input type="button"  onclick="openHeatmap();" value="显示热力图"/><input type="button"  onclick="closeHeatmap();" value="关闭热力图"/>
	</div>
</body>
</html>
<script type="text/javascript">
    var map = new BMap.Map("container");          // 创建地图实例
 
    var point = new BMap.Point(116.404, 39.915);
    map.centerAndZoom(point, 13);             // 初始化地图，设置中心点坐标和地图级别
	map.setCurrentCity("北京市");		//设置当前显示城市
    map.enableScrollWheelZoom(); // 允许滚轮缩放
 
	
	
    var points = [{'lng': 116.37513, 'lat': 40.09572, 'count': 28}, {'lng': 116.37513, 'lat': 40.09573, 'count': 67}, {'lng': 116.37513, 'lat': 40.09571, 'count': 2}, {'lng': 116.37514, 'lat': 40.09573, 'count': 4}, {'lng': 116.37512, 'lat': 40.09573, 'count': 50}, {'lng': 116.3751, 'lat': 40.09571, 'count': 1}, {'lng': 116.3751, 'lat': 40.09577, 'count': 3}, {'lng': 116.37512, 'lat': 40.09572, 'count': 18}, {'lng': 116.37512, 'lat': 40.09571, 'count': 35}, {'lng': 116.37511, 'lat': 40.09571, 'count': 15}, {'lng': 116.37511, 'lat': 40.0957, 'count': 61}, {'lng': 116.37512, 'lat': 40.0957, 'count': 9}, {'lng': 116.37512, 'lat': 40.09569, 'count': 32}, {'lng': 116.37513, 'lat': 40.09569, 'count': 1}, {'lng': 116.37518, 'lat': 40.09564, 'count': 2}, {'lng': 116.37524, 'lat': 40.09561, 'count': 1}, {'lng': 116.37531, 'lat': 40.09556, 'count': 1}, {'lng': 116.3753, 'lat': 40.09557, 'count': 1}, {'lng': 116.37532, 'lat': 40.09556, 'count': 1}, {'lng': 116.37534, 'lat': 40.09557, 'count': 1}, {'lng': 116.37521, 'lat': 40.0957, 'count': 1}, {'lng': 116.37523, 'lat': 40.09569, 'count': 1}, {'lng': 116.3753, 'lat': 40.09564, 'count': 1}, {'lng': 116.3752, 'lat': 40.09571, 'count': 1}, {'lng': 116.37516, 'lat': 40.09571, 'count': 1}, {'lng': 116.37526, 'lat': 40.09567, 'count': 1}, {'lng': 116.3752, 'lat': 40.09569, 'count': 1}, {'lng': 116.37521, 'lat': 40.09569, 'count': 1}, {'lng': 116.37523, 'lat': 40.09571, 'count': 1}, {'lng': 116.37516, 'lat': 40.09577, 'count': 1}, {'lng': 116.3751, 'lat': 40.0958, 'count': 1}, {'lng': 116.37513, 'lat': 40.09579, 'count': 1}, {'lng': 116.37517, 'lat': 40.09576, 'count': 1}, {'lng': 116.37519, 'lat': 40.09576, 'count': 1}, {'lng': 116.37521, 'lat': 40.09573, 'count': 1}, {'lng': 116.37521, 'lat': 40.09572, 'count': 1}, {'lng': 116.37523, 'lat': 40.09566, 'count': 1}, {'lng': 116.37522, 'lat': 40.09565, 'count': 4}, {'lng': 116.37522, 'lat': 40.09566, 'count': 57}, {'lng': 116.37522, 'lat': 40.09567, 'count': 7}, {'lng': 116.37507, 'lat': 40.09573, 'count': 4}, {'lng': 116.37521, 'lat': 40.09566, 'count': 9}, {'lng': 116.37521, 'lat': 40.09565, 'count': 35}, {'lng': 116.3752, 'lat': 40.09567, 'count': 7}, {'lng': 116.37519, 'lat': 40.09567, 'count': 41}, {'lng': 116.37519, 'lat': 40.09566, 'count': 44}, {'lng': 116.37518, 'lat': 40.09567, 'count': 38}, {'lng': 116.37517, 'lat': 40.09567, 'count': 3}, {'lng': 116.37517, 'lat': 40.09568, 'count': 62}, {'lng': 116.37516, 'lat': 40.09568, 'count': 12}, {'lng': 116.37515, 'lat': 40.09569, 'count': 74}, {'lng': 116.37515, 'lat': 40.09568, 'count': 81}, {'lng': 116.37514, 'lat': 40.09568, 'count': 59}, {'lng': 116.37515, 'lat': 40.09567, 'count': 29}, {'lng': 116.37514, 'lat': 40.09567, 'count': 326}, {'lng': 116.37513, 'lat': 40.09575, 'count': 1}, {'lng': 116.37513, 'lat': 40.09567, 'count': 42}, {'lng': 116.37512, 'lat': 40.09567, 'count': 1}, {'lng': 116.37512, 'lat': 40.09568, 'count': 4}, {'lng': 116.37507, 'lat': 40.09575, 'count': 3}, {'lng': 116.37507, 'lat': 40.09574, 'count': 2}, {'lng': 116.37506, 'lat': 40.09573, 'count': 6}, {'lng': 116.37505, 'lat': 40.09571, 'count': 32}, {'lng': 116.37504, 'lat': 40.09571, 'count': 46}, {'lng': 116.37504, 'lat': 40.09572, 'count': 15}, {'lng': 116.37505, 'lat': 40.0957, 'count': 57}, {'lng': 116.37506, 'lat': 40.09562, 'count': 1}, {'lng': 116.37512, 'lat': 40.0958, 'count': 1}, {'lng': 116.37505, 'lat': 40.09578, 'count': 1}, {'lng': 116.37527, 'lat': 40.09592, 'count': 1}, {'lng': 116.37536, 'lat': 40.09593, 'count': 1}, {'lng': 116.37546, 'lat': 40.09592, 'count': 1}, {'lng': 116.37555, 'lat': 40.09592, 'count': 1}, {'lng': 116.37564, 'lat': 40.09592, 'count': 1}, {'lng': 116.37573, 'lat': 40.09592, 'count': 1}, {'lng': 116.37579, 'lat': 40.09589, 'count': 1}, {'lng': 116.3758, 'lat': 40.09582, 'count': 1}, {'lng': 116.3758, 'lat': 40.09574, 'count': 1}, {'lng': 116.37582, 'lat': 40.09567, 'count': 1}, {'lng': 116.37583, 'lat': 40.09566, 'count': 1}, {'lng': 116.37588, 'lat': 40.09561, 'count': 1}, {'lng': 116.37592, 'lat': 40.09554, 'count': 1}, {'lng': 116.37594, 'lat': 40.09547, 'count': 1}, {'lng': 116.37595, 'lat': 40.0954, 'count': 1}, {'lng': 116.37597, 'lat': 40.09533, 'count': 1}, {'lng': 116.37602, 'lat': 40.09525, 'count': 1}, {'lng': 116.37613, 'lat': 40.09522, 'count': 1}, {'lng': 116.37624, 'lat': 40.09521, 'count': 1}, {'lng': 116.37634, 'lat': 40.09523, 'count': 1}, {'lng': 116.37644, 'lat': 40.09523, 'count': 1}, {'lng': 116.37653, 'lat': 40.09523, 'count': 1}, {'lng': 116.37664, 'lat': 40.09524, 'count': 1}, {'lng': 116.37673, 'lat': 40.09524, 'count': 1}, {'lng': 116.37683, 'lat': 40.09525, 'count': 1}, {'lng': 116.37693, 'lat': 40.09524, 'count': 1}, {'lng': 116.37702, 'lat': 40.09524, 'count': 1}, {'lng': 116.37709, 'lat': 40.09525, 'count': 1}, {'lng': 116.37713, 'lat': 40.09526, 'count': 1}, {'lng': 116.37723, 'lat': 40.09525, 'count': 1}, {'lng': 116.37733, 'lat': 40.09526, 'count': 1}, {'lng': 116.37734, 'lat': 40.09527, 'count': 3}, {'lng': 116.37734, 'lat': 40.09528, 'count': 1}, {'lng': 116.37735, 'lat': 40.09528, 'count': 5}, {'lng': 116.37736, 'lat': 40.09528, 'count': 1}, {'lng': 116.37737, 'lat': 40.09527, 'count': 4}, {'lng': 116.37738, 'lat': 40.09527, 'count': 1}, {'lng': 116.37737, 'lat': 40.09528, 'count': 1}, {'lng': 116.37739, 'lat': 40.09531, 'count': 1}, {'lng': 116.37739, 'lat': 40.0953, 'count': 2}, {'lng': 116.37739, 'lat': 40.09525, 'count': 1}, {'lng': 116.37741, 'lat': 40.09519, 'count': 1}, {'lng': 116.37745, 'lat': 40.095, 'count': 1}, {'lng': 116.37748, 'lat': 40.09467, 'count': 1}, {'lng': 116.37748, 'lat': 40.0943, 'count': 1}, {'lng': 116.3775, 'lat': 40.09388, 'count': 1}, {'lng': 116.3774, 'lat': 40.09369, 'count': 1}, {'lng': 116.37681, 'lat': 40.0936, 'count': 1}, {'lng': 116.37614, 'lat': 40.09352, 'count': 1}, {'lng': 116.37554, 'lat': 40.09346, 'count': 1}, {'lng': 116.37486, 'lat': 40.0934, 'count': 1}, {'lng': 116.37443, 'lat': 40.09336, 'count': 1}, {'lng': 116.37385, 'lat': 40.09332, 'count': 1}, {'lng': 116.37328, 'lat': 40.09328, 'count': 1}, {'lng': 116.37281, 'lat': 40.09325, 'count': 1}, {'lng': 116.37254, 'lat': 40.09323, 'count': 1}, {'lng': 116.37229, 'lat': 40.09321, 'count': 1}, {'lng': 116.37207, 'lat': 40.09317, 'count': 1}, {'lng': 116.37149, 'lat': 40.09315, 'count': 1}, {'lng': 116.3707, 'lat': 40.0931, 'count': 1}, {'lng': 116.37007, 'lat': 40.09307, 'count': 1}, {'lng': 116.36995, 'lat': 40.09306, 'count': 3}, {'lng': 116.36983, 'lat': 40.09306, 'count': 1}, {'lng': 116.36963, 'lat': 40.09305, 'count': 1}, {'lng': 116.36934, 'lat': 40.09302, 'count': 1}, {'lng': 116.36883, 'lat': 40.093, 'count': 1}, {'lng': 116.36797, 'lat': 40.09295, 'count': 1}, {'lng': 116.36731, 'lat': 40.09293, 'count': 1}, {'lng': 116.36666, 'lat': 40.09289, 'count': 1}, {'lng': 116.36585, 'lat': 40.09286, 'count': 1}, {'lng': 116.36517, 'lat': 40.09284, 'count': 1}, {'lng': 116.36475, 'lat': 40.09282, 'count': 1}, {'lng': 116.36426, 'lat': 40.09281, 'count': 1}, {'lng': 116.36348, 'lat': 40.09277, 'count': 1}, {'lng': 116.36271, 'lat': 40.09271, 'count': 1}, {'lng': 116.36166, 'lat': 40.09266, 'count': 1}, {'lng': 116.36074, 'lat': 40.0926, 'count': 1}, {'lng': 116.3596, 'lat': 40.09255, 'count': 1}, {'lng': 116.3584, 'lat': 40.0925, 'count': 1}, {'lng': 116.3575, 'lat': 40.09247, 'count': 1}, {'lng': 116.35678, 'lat': 40.09245, 'count': 1}, {'lng': 116.35643, 'lat': 40.09244, 'count': 1}, {'lng': 116.35628, 'lat': 40.09243, 'count': 1}, {'lng': 116.35627, 'lat': 40.09242, 'count': 1}, {'lng': 116.35627, 'lat': 40.09243, 'count': 2}, {'lng': 116.35607, 'lat': 40.09244, 'count': 1}, {'lng': 116.35559, 'lat': 40.09242, 'count': 1}, {'lng': 116.35508, 'lat': 40.09239, 'count': 1}, {'lng': 116.35425, 'lat': 40.09237, 'count': 1}, {'lng': 116.35336, 'lat': 40.09233, 'count': 1}, {'lng': 116.35264, 'lat': 40.09229, 'count': 1}, {'lng': 116.35186, 'lat': 40.09229, 'count': 1}, {'lng': 116.35119, 'lat': 40.09226, 'count': 1}, {'lng': 116.3509, 'lat': 40.09224, 'count': 1}, {'lng': 116.3506, 'lat': 40.09226, 'count': 1}, {'lng': 116.35037, 'lat': 40.09259, 'count': 1}, {'lng': 116.3503, 'lat': 40.0931, 'count': 1}, {'lng': 116.35024, 'lat': 40.09378, 'count': 1}, {'lng': 116.35019, 'lat': 40.09432, 'count': 1}, {'lng': 116.35017, 'lat': 40.09459, 'count': 1}, {'lng': 116.35017, 'lat': 40.0946, 'count': 3}, {'lng': 116.35015, 'lat': 40.09459, 'count': 1}, {'lng': 116.35014, 'lat': 40.09459, 'count': 1}, {'lng': 116.35014, 'lat': 40.09458, 'count': 1}, {'lng': 116.35016, 'lat': 40.0946, 'count': 1}, {'lng': 116.35017, 'lat': 40.09461, 'count': 1}, {'lng': 116.35013, 'lat': 40.09478, 'count': 1}, {'lng': 116.35002, 'lat': 40.09496, 'count': 1}, {'lng': 116.34965, 'lat': 40.09504, 'count': 1}, {'lng': 116.34911, 'lat': 40.09503, 'count': 1}, {'lng': 116.34865, 'lat': 40.09505, 'count': 1}, {'lng': 116.34854, 'lat': 40.09505, 'count': 1}, {'lng': 116.34845, 'lat': 40.09504, 'count': 1}, {'lng': 116.34838, 'lat': 40.09503, 'count': 1}, {'lng': 116.34834, 'lat': 40.09503, 'count': 1}, {'lng': 116.34823, 'lat': 40.09503, 'count': 1}, {'lng': 116.34814, 'lat': 40.09502, 'count': 1}, {'lng': 116.34796, 'lat': 40.095, 'count': 1}, {'lng': 116.34787, 'lat': 40.09498, 'count': 1}, {'lng': 116.34759, 'lat': 40.09496, 'count': 1}, {'lng': 116.3469, 'lat': 40.09497, 'count': 1}, {'lng': 116.346, 'lat': 40.09494, 'count': 1}, {'lng': 116.3452, 'lat': 40.0949, 'count': 1}, {'lng': 116.34437, 'lat': 40.09484, 'count': 1}, {'lng': 116.34396, 'lat': 40.09479, 'count': 1}, {'lng': 116.34374, 'lat': 40.09496, 'count': 1}, {'lng': 116.34361, 'lat': 40.0955, 'count': 1}, {'lng': 116.34349, 'lat': 40.09624, 'count': 1}, {'lng': 116.34339, 'lat': 40.09672, 'count': 1}, {'lng': 116.34334, 'lat': 40.09697, 'count': 1}, {'lng': 116.34333, 'lat': 40.09698, 'count': 1}, {'lng': 116.34334, 'lat': 40.09698, 'count': 2}, {'lng': 116.34334, 'lat': 40.09699, 'count': 1}, {'lng': 116.34334, 'lat': 40.097, 'count': 1}, {'lng': 116.34331, 'lat': 40.09711, 'count': 1}, {'lng': 116.34324, 'lat': 40.09754, 'count': 1}, {'lng': 116.34313, 'lat': 40.09817, 'count': 1}, {'lng': 116.34303, 'lat': 40.09865, 'count': 1}, {'lng': 116.34293, 'lat': 40.09911, 'count': 1}, {'lng': 116.34284, 'lat': 40.09955, 'count': 1}, {'lng': 116.34275, 'lat': 40.10006, 'count': 1}, {'lng': 116.34263, 'lat': 40.10065, 'count': 1}, {'lng': 116.34251, 'lat': 40.10118, 'count': 1}, {'lng': 116.34249, 'lat': 40.10133, 'count': 1}, {'lng': 116.3425, 'lat': 40.10133, 'count': 1}, {'lng': 116.3425, 'lat': 40.10134, 'count': 2}, {'lng': 116.3425, 'lat': 40.10138, 'count': 1}, {'lng': 116.34247, 'lat': 40.10147, 'count': 1}, {'lng': 116.34246, 'lat': 40.10167, 'count': 1}, {'lng': 116.34238, 'lat': 40.1021, 'count': 1}, {'lng': 116.34229, 'lat': 40.1024, 'count': 1}, {'lng': 116.34227, 'lat': 40.10252, 'count': 2}, {'lng': 116.34227, 'lat': 40.10254, 'count': 1}, {'lng': 116.34228, 'lat': 40.10254, 'count': 1}, {'lng': 116.34229, 'lat': 40.10253, 'count': 1}, {'lng': 116.34228, 'lat': 40.10255, 'count': 1}, {'lng': 116.34226, 'lat': 40.10262, 'count': 1}, {'lng': 116.34221, 'lat': 40.10288, 'count': 1}, {'lng': 116.34215, 'lat': 40.10312, 'count': 1}, {'lng': 116.34216, 'lat': 40.10313, 'count': 1}, {'lng': 116.34218, 'lat': 40.10313, 'count': 1}, {'lng': 116.34216, 'lat': 40.10312, 'count': 1}, {'lng': 116.34215, 'lat': 40.10313, 'count': 2}, {'lng': 116.34218, 'lat': 40.10315, 'count': 1}, {'lng': 116.34219, 'lat': 40.10316, 'count': 2}, {'lng': 116.34213, 'lat': 40.1034, 'count': 1}, {'lng': 116.34207, 'lat': 40.10366, 'count': 1}, {'lng': 116.34201, 'lat': 40.10385, 'count': 1}, {'lng': 116.34178, 'lat': 40.1041, 'count': 1}, {'lng': 116.34133, 'lat': 40.10413, 'count': 1}, {'lng': 116.34073, 'lat': 40.1041, 'count': 1}, {'lng': 116.33989, 'lat': 40.10408, 'count': 1}, {'lng': 116.33905, 'lat': 40.10406, 'count': 1}, {'lng': 116.33816, 'lat': 40.10407, 'count': 1}, {'lng': 116.33708, 'lat': 40.10409, 'count': 1}, {'lng': 116.33617, 'lat': 40.10413, 'count': 1}, {'lng': 116.33587, 'lat': 40.10414, 'count': 2}, {'lng': 116.33586, 'lat': 40.10414, 'count': 1}, {'lng': 116.33579, 'lat': 40.10414, 'count': 1}, {'lng': 116.33518, 'lat': 40.10415, 'count': 1}, {'lng': 116.33427, 'lat': 40.10415, 'count': 1}, {'lng': 116.33303, 'lat': 40.10414, 'count': 1}, {'lng': 116.332, 'lat': 40.1041, 'count': 1}, {'lng': 116.3307, 'lat': 40.10407, 'count': 1}, {'lng': 116.32962, 'lat': 40.10404, 'count': 1}, {'lng': 116.32893, 'lat': 40.10403, 'count': 1}, {'lng': 116.32875, 'lat': 40.10403, 'count': 1}, {'lng': 116.32874, 'lat': 40.10402, 'count': 1}, {'lng': 116.32875, 'lat': 40.10402, 'count': 2}, {'lng': 116.32873, 'lat': 40.10402, 'count': 1}, {'lng': 116.32852, 'lat': 40.10403, 'count': 1}, {'lng': 116.32822, 'lat': 40.10404, 'count': 1}, {'lng': 116.32753, 'lat': 40.104, 'count': 1}, {'lng': 116.32654, 'lat': 40.10397, 'count': 1}, {'lng': 116.32555, 'lat': 40.10394, 'count': 1}, {'lng': 116.32432, 'lat': 40.10391, 'count': 1}, {'lng': 116.32347, 'lat': 40.10391, 'count': 1}, {'lng': 116.32273, 'lat': 40.10397, 'count': 1}, {'lng': 116.32234, 'lat': 40.10396, 'count': 1}, {'lng': 116.32233, 'lat': 40.10395, 'count': 2}, {'lng': 116.32211, 'lat': 40.10395, 'count': 1}, {'lng': 116.3215, 'lat': 40.10393, 'count': 1}, {'lng': 116.32072, 'lat': 40.1039, 'count': 1}, {'lng': 116.31967, 'lat': 40.10382, 'count': 1}, {'lng': 116.31861, 'lat': 40.1037, 'count': 1}, {'lng': 116.31777, 'lat': 40.10362, 'count': 1}, {'lng': 116.31698, 'lat': 40.10351, 'count': 1}, {'lng': 116.31607, 'lat': 40.1034, 'count': 1}, {'lng': 116.31517, 'lat': 40.10328, 'count': 1}, {'lng': 116.31463, 'lat': 40.10323, 'count': 1}, {'lng': 116.31433, 'lat': 40.10321, 'count': 1}, {'lng': 116.31423, 'lat': 40.10321, 'count': 1}, {'lng': 116.31417, 'lat': 40.1032, 'count': 1}, {'lng': 116.31405, 'lat': 40.10317, 'count': 1}, {'lng': 116.31392, 'lat': 40.10318, 'count': 1}, {'lng': 116.3138, 'lat': 40.10333, 'count': 1}, {'lng': 116.31377, 'lat': 40.10346, 'count': 1}, {'lng': 116.31373, 'lat': 40.10372, 'count': 1}, {'lng': 116.31367, 'lat': 40.10405, 'count': 1}, {'lng': 116.3136, 'lat': 40.1045, 'count': 1}, {'lng': 116.31352, 'lat': 40.10493, 'count': 1}, {'lng': 116.31348, 'lat': 40.1051, 'count': 1}, {'lng': 116.31344, 'lat': 40.10532, 'count': 1}, {'lng': 116.31336, 'lat': 40.10573, 'count': 1}, {'lng': 116.31326, 'lat': 40.10623, 'count': 1}, {'lng': 116.31316, 'lat': 40.10675, 'count': 1}, {'lng': 116.31308, 'lat': 40.10726, 'count': 1}, {'lng': 116.31283, 'lat': 40.10762, 'count': 1}, {'lng': 116.31222, 'lat': 40.10766, 'count': 1}, {'lng': 116.31149, 'lat': 40.10758, 'count': 1}, {'lng': 116.31064, 'lat': 40.1075, 'count': 1}, {'lng': 116.30989, 'lat': 40.10743, 'count': 1}, {'lng': 116.30915, 'lat': 40.10736, 'count': 1}, {'lng': 116.30825, 'lat': 40.10729, 'count': 1}, {'lng': 116.30747, 'lat': 40.10721, 'count': 1}, {'lng': 116.30665, 'lat': 40.10713, 'count': 1}, {'lng': 116.30575, 'lat': 40.10705, 'count': 1}, {'lng': 116.30511, 'lat': 40.10699, 'count': 1}, {'lng': 116.30475, 'lat': 40.10698, 'count': 1}, {'lng': 116.30442, 'lat': 40.10697, 'count': 1}, {'lng': 116.3042, 'lat': 40.10695, 'count': 1}, {'lng': 116.30403, 'lat': 40.10694, 'count': 1}, {'lng': 116.30393, 'lat': 40.10693, 'count': 1}, {'lng': 116.30392, 'lat': 40.10693, 'count': 1}, {'lng': 116.30387, 'lat': 40.10692, 'count': 1}, {'lng': 116.30384, 'lat': 40.10693, 'count': 1}, {'lng': 116.30381, 'lat': 40.10693, 'count': 1}, {'lng': 116.30383, 'lat': 40.10693, 'count': 1}, {'lng': 116.30377, 'lat': 40.10691, 'count': 1}, {'lng': 116.30376, 'lat': 40.1069, 'count': 3}, {'lng': 116.30377, 'lat': 40.1069, 'count': 2}, {'lng': 116.30376, 'lat': 40.10689, 'count': 2}, {'lng': 116.30377, 'lat': 40.10689, 'count': 2}, {'lng': 116.30368, 'lat': 40.10687, 'count': 1}, {'lng': 116.30357, 'lat': 40.10685, 'count': 1}, {'lng': 116.30352, 'lat': 40.10683, 'count': 1}, {'lng': 116.30347, 'lat': 40.10682, 'count': 1}, {'lng': 116.30341, 'lat': 40.10682, 'count': 1}, {'lng': 116.30334, 'lat': 40.10681, 'count': 1}, {'lng': 116.30331, 'lat': 40.1068, 'count': 1}, {'lng': 116.30324, 'lat': 40.10679, 'count': 1}, {'lng': 116.30322, 'lat': 40.10679, 'count': 1}, {'lng': 116.30315, 'lat': 40.10678, 'count': 1}, {'lng': 116.30313, 'lat': 40.10678, 'count': 1}, {'lng': 116.30309, 'lat': 40.10678, 'count': 1}, {'lng': 116.30301, 'lat': 40.10677, 'count': 1}, {'lng': 116.30292, 'lat': 40.10676, 'count': 1}, {'lng': 116.30289, 'lat': 40.10676, 'count': 1}, {'lng': 116.30289, 'lat': 40.10675, 'count': 2}, {'lng': 116.30288, 'lat': 40.10676, 'count': 1}, {'lng': 116.30287, 'lat': 40.10675, 'count': 1}, {'lng': 116.30284, 'lat': 40.10675, 'count': 1}, {'lng': 116.3028, 'lat': 40.10675, 'count': 1}, {'lng': 116.30277, 'lat': 40.10675, 'count': 1}, {'lng': 116.30276, 'lat': 40.10675, 'count': 1}, {'lng': 116.30275, 'lat': 40.10675, 'count': 1}, {'lng': 116.3027, 'lat': 40.10675, 'count': 1}, {'lng': 116.30259, 'lat': 40.10674, 'count': 1}, {'lng': 116.30258, 'lat': 40.10672, 'count': 2}, {'lng': 116.30254, 'lat': 40.10671, 'count': 1}, {'lng': 116.30248, 'lat': 40.1067, 'count': 1}, {'lng': 116.30245, 'lat': 40.1067, 'count': 1}, {'lng': 116.30241, 'lat': 40.10669, 'count': 1}, {'lng': 116.30242, 'lat': 40.10668, 'count': 1}, {'lng': 116.30238, 'lat': 40.10668, 'count': 1}, {'lng': 116.30234, 'lat': 40.10667, 'count': 1}, {'lng': 116.3023, 'lat': 40.10666, 'count': 1}, {'lng': 116.30227, 'lat': 40.10665, 'count': 1}, {'lng': 116.30221, 'lat': 40.10664, 'count': 1}, {'lng': 116.30219, 'lat': 40.10664, 'count': 1}, {'lng': 116.30213, 'lat': 40.10664, 'count': 1}, {'lng': 116.30182, 'lat': 40.10657, 'count': 1}, {'lng': 116.30156, 'lat': 40.10653, 'count': 1}, {'lng': 116.30141, 'lat': 40.1065, 'count': 1}, {'lng': 116.30131, 'lat': 40.10647, 'count': 1}, {'lng': 116.3012, 'lat': 40.10646, 'count': 1}, {'lng': 116.3009, 'lat': 40.10673, 'count': 1}, {'lng': 116.3006, 'lat': 40.1072, 'count': 1}, {'lng': 116.3002, 'lat': 40.10782, 'count': 1}, {'lng': 116.29968, 'lat': 40.10871, 'count': 1}, {'lng': 116.2992, 'lat': 40.10956, 'count': 1}, {'lng': 116.29883, 'lat': 40.11022, 'count': 1}, {'lng': 116.29863, 'lat': 40.11061, 'count': 1}, {'lng': 116.29844, 'lat': 40.11086, 'count': 1}, {'lng': 116.29836, 'lat': 40.11111, 'count': 1}, {'lng': 116.2988, 'lat': 40.11131, 'count': 1}, {'lng': 116.29925, 'lat': 40.1114, 'count': 1}, {'lng': 116.29968, 'lat': 40.1116, 'count': 1}, {'lng': 116.29968, 'lat': 40.11192, 'count': 1}, {'lng': 116.29923, 'lat': 40.11209, 'count': 1}, {'lng': 116.29878, 'lat': 40.11198, 'count': 1}, {'lng': 116.29821, 'lat': 40.11182, 'count': 1}, {'lng': 116.29753, 'lat': 40.11163, 'count': 1}, {'lng': 116.29666, 'lat': 40.11139, 'count': 1}, {'lng': 116.29592, 'lat': 40.11118, 'count': 1}, {'lng': 116.29511, 'lat': 40.11095, 'count': 1}, {'lng': 116.29462, 'lat': 40.11087, 'count': 1}, {'lng': 116.2945, 'lat': 40.11118, 'count': 1}, {'lng': 116.29513, 'lat': 40.1114, 'count': 1}, {'lng': 116.29576, 'lat': 40.11157, 'count': 1}, {'lng': 116.29602, 'lat': 40.11164, 'count': 1}, {'lng': 116.29605, 'lat': 40.11165, 'count': 1}, {'lng': 116.29609, 'lat': 40.11166, 'count': 1}, {'lng': 116.29611, 'lat': 40.11167, 'count': 1}, {'lng': 116.29628, 'lat': 40.11165, 'count': 1}, {'lng': 116.29637, 'lat': 40.11162, 'count': 1}, {'lng': 116.29649, 'lat': 40.11155, 'count': 1}, {'lng': 116.29668, 'lat': 40.11142, 'count': 1}, {'lng': 116.29687, 'lat': 40.11125, 'count': 1}, {'lng': 116.29705, 'lat': 40.11104, 'count': 1}, {'lng': 116.29714, 'lat': 40.11088, 'count': 1}, {'lng': 116.29737, 'lat': 40.11062, 'count': 1}, {'lng': 116.29758, 'lat': 40.11036, 'count': 1}, {'lng': 116.2978, 'lat': 40.11004, 'count': 1}, {'lng': 116.29798, 'lat': 40.1098, 'count': 1}, {'lng': 116.29814, 'lat': 40.10959, 'count': 1}, {'lng': 116.29829, 'lat': 40.10936, 'count': 1}, {'lng': 116.29845, 'lat': 40.10913, 'count': 1}, {'lng': 116.2986, 'lat': 40.10884, 'count': 1}, {'lng': 116.29867, 'lat': 40.1087, 'count': 1}, {'lng': 116.29871, 'lat': 40.10863, 'count': 1}, {'lng': 116.29875, 'lat': 40.10853, 'count': 1}, {'lng': 116.2988, 'lat': 40.10845, 'count': 1}, {'lng': 116.29883, 'lat': 40.1084, 'count': 1}, {'lng': 116.29887, 'lat': 40.1083, 'count': 1}, {'lng': 116.29896, 'lat': 40.1081, 'count': 1}, {'lng': 116.29902, 'lat': 40.10796, 'count': 1}, {'lng': 116.29907, 'lat': 40.10782, 'count': 1}, {'lng': 116.29912, 'lat': 40.10765, 'count': 1}, {'lng': 116.29921, 'lat': 40.10736, 'count': 1}, {'lng': 116.29933, 'lat': 40.10709, 'count': 1}, {'lng': 116.29942, 'lat': 40.10692, 'count': 1}, {'lng': 116.29948, 'lat': 40.10682, 'count': 1}, {'lng': 116.29953, 'lat': 40.10675, 'count': 1}, {'lng': 116.29963, 'lat': 40.10661, 'count': 1}, {'lng': 116.29967, 'lat': 40.10654, 'count': 1}, {'lng': 116.29971, 'lat': 40.10649, 'count': 1}, {'lng': 116.29974, 'lat': 40.10646, 'count': 1}, {'lng': 116.29984, 'lat': 40.10632, 'count': 1}, {'lng': 116.29979, 'lat': 40.10616, 'count': 1}, {'lng': 116.2993, 'lat': 40.10607, 'count': 1}, {'lng': 116.29903, 'lat': 40.10599, 'count': 1}, {'lng': 116.2989, 'lat': 40.1059, 'count': 1}, {'lng': 116.29894, 'lat': 40.10574, 'count': 1}, {'lng': 116.29926, 'lat': 40.10529, 'count': 1}, {'lng': 116.29954, 'lat': 40.10489, 'count': 1}, {'lng': 116.29925, 'lat': 40.10482, 'count': 1}, {'lng': 116.29899, 'lat': 40.1048, 'count': 1}, {'lng': 116.29874, 'lat': 40.105, 'count': 1}, {'lng': 116.2985, 'lat': 40.10507, 'count': 1}, {'lng': 116.29821, 'lat': 40.10501, 'count': 1}, {'lng': 116.29785, 'lat': 40.10495, 'count': 1}, {'lng': 116.29761, 'lat': 40.1049, 'count': 1}, {'lng': 116.29749, 'lat': 40.10487, 'count': 1}, {'lng': 116.29741, 'lat': 40.10487, 'count': 1}, {'lng': 116.29731, 'lat': 40.10486, 'count': 1}, {'lng': 116.29714, 'lat': 40.10482, 'count': 1}, {'lng': 116.29693, 'lat': 40.10477, 'count': 1}, {'lng': 116.29666, 'lat': 40.10473, 'count': 1}, {'lng': 116.29642, 'lat': 40.10469, 'count': 1}, {'lng': 116.29626, 'lat': 40.10466, 'count': 1}, {'lng': 116.29604, 'lat': 40.10463, 'count': 1}, {'lng': 116.29588, 'lat': 40.10459, 'count': 1}, {'lng': 116.29567, 'lat': 40.10456, 'count': 1}, {'lng': 116.29556, 'lat': 40.10454, 'count': 1}, {'lng': 116.29552, 'lat': 40.10453, 'count': 1}, {'lng': 116.29544, 'lat': 40.1045, 'count': 1}, {'lng': 116.29538, 'lat': 40.10446, 'count': 1}, {'lng': 116.29528, 'lat': 40.10444, 'count': 1}, {'lng': 116.29511, 'lat': 40.1044, 'count': 1}, {'lng': 116.29499, 'lat': 40.10435, 'count': 1}, {'lng': 116.29482, 'lat': 40.10429, 'count': 1}, {'lng': 116.29471, 'lat': 40.10426, 'count': 1}, {'lng': 116.29439, 'lat': 40.10413, 'count': 1}, {'lng': 116.29379, 'lat': 40.10396, 'count': 1}, {'lng': 116.29374, 'lat': 40.10394, 'count': 1}, {'lng': 116.29302, 'lat': 40.10366, 'count': 1}, {'lng': 116.29288, 'lat': 40.10349, 'count': 1}, {'lng': 116.29322, 'lat': 40.1031, 'count': 1}, {'lng': 116.29381, 'lat': 40.10264, 'count': 1}, {'lng': 116.29454, 'lat': 40.10209, 'count': 1}, {'lng': 116.29536, 'lat': 40.10146, 'count': 1}, {'lng': 116.29584, 'lat': 40.1011, 'count': 1}, {'lng': 116.29604, 'lat': 40.10096, 'count': 1}, {'lng': 116.29613, 'lat': 40.10089, 'count': 1}, {'lng': 116.29614, 'lat': 40.10088, 'count': 1}, {'lng': 116.29615, 'lat': 40.10088, 'count': 1}, {'lng': 116.29621, 'lat': 40.10083, 'count': 1}, {'lng': 116.29622, 'lat': 40.10082, 'count': 1}, {'lng': 116.29624, 'lat': 40.1008, 'count': 1}, {'lng': 116.29631, 'lat': 40.10075, 'count': 1}, {'lng': 116.29638, 'lat': 40.10069, 'count': 1}, {'lng': 116.29639, 'lat': 40.10069, 'count': 1}, {'lng': 116.2964, 'lat': 40.10068, 'count': 2}, {'lng': 116.29647, 'lat': 40.10063, 'count': 1}, {'lng': 116.29651, 'lat': 40.1006, 'count': 1}, {'lng': 116.29652, 'lat': 40.10061, 'count': 1}, {'lng': 116.29652, 'lat': 40.1006, 'count': 2}, {'lng': 116.29656, 'lat': 40.10057, 'count': 1}, {'lng': 116.29656, 'lat': 40.10056, 'count': 1}, {'lng': 116.29663, 'lat': 40.10052, 'count': 1}, {'lng': 116.29678, 'lat': 40.10042, 'count': 1}, {'lng': 116.29683, 'lat': 40.10039, 'count': 1}, {'lng': 116.29684, 'lat': 40.10038, 'count': 1}, {'lng': 116.2969, 'lat': 40.10034, 'count': 1}, {'lng': 116.29696, 'lat': 40.10029, 'count': 1}, {'lng': 116.29702, 'lat': 40.10025, 'count': 1}, {'lng': 116.29706, 'lat': 40.10022, 'count': 1}, {'lng': 116.2971, 'lat': 40.10018, 'count': 1}, {'lng': 116.29714, 'lat': 40.10016, 'count': 1}, {'lng': 116.29717, 'lat': 40.10014, 'count': 1}, {'lng': 116.2972, 'lat': 40.1001, 'count': 1}, {'lng': 116.29722, 'lat': 40.10009, 'count': 1}, {'lng': 116.29726, 'lat': 40.10004, 'count': 1}, {'lng': 116.29728, 'lat': 40.10004, 'count': 1}, {'lng': 116.29731, 'lat': 40.10001, 'count': 1}, {'lng': 116.29738, 'lat': 40.09994, 'count': 1}, {'lng': 116.29739, 'lat': 40.09994, 'count': 1}, {'lng': 116.29742, 'lat': 40.0999, 'count': 1}, {'lng': 116.29745, 'lat': 40.0998, 'count': 1}, {'lng': 116.2972, 'lat': 40.09968, 'count': 1}, {'lng': 116.29678, 'lat': 40.09951, 'count': 1}, {'lng': 116.29656, 'lat': 40.09943, 'count': 2}, {'lng': 116.29656, 'lat': 40.09944, 'count': 2}, {'lng': 116.29655, 'lat': 40.09944, 'count': 3}, {'lng': 116.29654, 'lat': 40.09944, 'count': 3}, {'lng': 116.29657, 'lat': 40.09943, 'count': 2}, {'lng': 116.29655, 'lat': 40.09942, 'count': 1}, {'lng': 116.29626, 'lat': 40.0993, 'count': 1}, {'lng': 116.29585, 'lat': 40.09915, 'count': 1}, {'lng': 116.29542, 'lat': 40.09897, 'count': 1}, {'lng': 116.29503, 'lat': 40.09882, 'count': 1}, {'lng': 116.29462, 'lat': 40.09865, 'count': 1}, {'lng': 116.29412, 'lat': 40.09847, 'count': 1}, {'lng': 116.29344, 'lat': 40.09824, 'count': 1}, {'lng': 116.2927, 'lat': 40.09802, 'count': 1}, {'lng': 116.29197, 'lat': 40.0978, 'count': 1}, {'lng': 116.29129, 'lat': 40.09757, 'count': 1}, {'lng': 116.29071, 'lat': 40.09739, 'count': 1}, {'lng': 116.2901, 'lat': 40.0972, 'count': 1}, {'lng': 116.2895, 'lat': 40.09699, 'count': 1}, {'lng': 116.28874, 'lat': 40.09674, 'count': 1}, {'lng': 116.288, 'lat': 40.09653, 'count': 1}, {'lng': 116.28698, 'lat': 40.09623, 'count': 1}, {'lng': 116.28609, 'lat': 40.09597, 'count': 1}, {'lng': 116.28528, 'lat': 40.09569, 'count': 1}, {'lng': 116.2847, 'lat': 40.0955, 'count': 1}, {'lng': 116.28456, 'lat': 40.09544, 'count': 1}, {'lng': 116.28455, 'lat': 40.09544, 'count': 1}, {'lng': 116.28454, 'lat': 40.09544, 'count': 5}, {'lng': 116.28453, 'lat': 40.09544, 'count': 2}, {'lng': 116.28452, 'lat': 40.09543, 'count': 1}, {'lng': 116.28452, 'lat': 40.09542, 'count': 3}, {'lng': 116.28453, 'lat': 40.09542, 'count': 1}, {'lng': 116.28454, 'lat': 40.09543, 'count': 8}, {'lng': 116.28453, 'lat': 40.09543, 'count': 1}, {'lng': 116.28446, 'lat': 40.09541, 'count': 1}, {'lng': 116.28424, 'lat': 40.09533, 'count': 1}, {'lng': 116.28375, 'lat': 40.09514, 'count': 1}, {'lng': 116.28332, 'lat': 40.09502, 'count': 1}, {'lng': 116.28303, 'lat': 40.09493, 'count': 1}, {'lng': 116.28252, 'lat': 40.09476, 'count': 1}, {'lng': 116.28216, 'lat': 40.09464, 'count': 1}, {'lng': 116.28179, 'lat': 40.09451, 'count': 1}, {'lng': 116.28128, 'lat': 40.09431, 'count': 1}, {'lng': 116.28031, 'lat': 40.09401, 'count': 1}, {'lng': 116.27926, 'lat': 40.09361, 'count': 1}, {'lng': 116.27852, 'lat': 40.09318, 'count': 1}, {'lng': 116.27819, 'lat': 40.0929, 'count': 1}, {'lng': 116.27793, 'lat': 40.09264, 'count': 1}, {'lng': 116.27764, 'lat': 40.09235, 'count': 1}, {'lng': 116.27738, 'lat': 40.09204, 'count': 1}, {'lng': 116.27704, 'lat': 40.0917, 'count': 1}, {'lng': 116.27681, 'lat': 40.09148, 'count': 1}, {'lng': 116.27668, 'lat': 40.09135, 'count': 1}, {'lng': 116.27664, 'lat': 40.09132, 'count': 1}, {'lng': 116.27644, 'lat': 40.09116, 'count': 1}, {'lng': 116.27612, 'lat': 40.09087, 'count': 1}, {'lng': 116.27586, 'lat': 40.09065, 'count': 1}, {'lng': 116.27537, 'lat': 40.09031, 'count': 1}, {'lng': 116.275, 'lat': 40.09007, 'count': 1}, {'lng': 116.27489, 'lat': 40.09002, 'count': 1}, {'lng': 116.27488, 'lat': 40.09001, 'count': 3}, {'lng': 116.27481, 'lat': 40.08997, 'count': 1}, {'lng': 116.27478, 'lat': 40.08996, 'count': 1}, {'lng': 116.27478, 'lat': 40.08995, 'count': 1}, {'lng': 116.27477, 'lat': 40.08996, 'count': 6}, {'lng': 116.27476, 'lat': 40.08996, 'count': 1}, {'lng': 116.27465, 'lat': 40.0899, 'count': 1}, {'lng': 116.2744, 'lat': 40.08974, 'count': 1}, {'lng': 116.2739, 'lat': 40.08945, 'count': 1}, {'lng': 116.27339, 'lat': 40.08912, 'count': 1}, {'lng': 116.273, 'lat': 40.08887, 'count': 1}, {'lng': 116.27293, 'lat': 40.08882, 'count': 3}, {'lng': 116.27294, 'lat': 40.08883, 'count': 2}, {'lng': 116.27295, 'lat': 40.08883, 'count': 1}, {'lng': 116.27292, 'lat': 40.08882, 'count': 1}, {'lng': 116.27292, 'lat': 40.08881, 'count': 2}, {'lng': 116.27291, 'lat': 40.08881, 'count': 1}, {'lng': 116.27291, 'lat': 40.0888, 'count': 1}, {'lng': 116.2729, 'lat': 40.08881, 'count': 2}, {'lng': 116.27289, 'lat': 40.08881, 'count': 3}, {'lng': 116.27288, 'lat': 40.0888, 'count': 1}, {'lng': 116.27263, 'lat': 40.08864, 'count': 1}, {'lng': 116.27223, 'lat': 40.08835, 'count': 1}, {'lng': 116.27166, 'lat': 40.08797, 'count': 1}, {'lng': 116.27103, 'lat': 40.08755, 'count': 1}, {'lng': 116.27028, 'lat': 40.08705, 'count': 1}, {'lng': 116.26962, 'lat': 40.08664, 'count': 1}, {'lng': 116.26876, 'lat': 40.08609, 'count': 1}, {'lng': 116.26795, 'lat': 40.08556, 'count': 1}, {'lng': 116.26707, 'lat': 40.08499, 'count': 1}, {'lng': 116.26628, 'lat': 40.08457, 'count': 1}, {'lng': 116.2653, 'lat': 40.08415, 'count': 1}, {'lng': 116.26435, 'lat': 40.08385, 'count': 1}, {'lng': 116.26328, 'lat': 40.08349, 'count': 1}, {'lng': 116.26239, 'lat': 40.08319, 'count': 1}, {'lng': 116.26155, 'lat': 40.08294, 'count': 1}, {'lng': 116.261, 'lat': 40.08278, 'count': 1}, {'lng': 116.26087, 'lat': 40.08275, 'count': 1}, {'lng': 116.26086, 'lat': 40.08273, 'count': 1}, {'lng': 116.26086, 'lat': 40.08272, 'count': 2}, {'lng': 116.26084, 'lat': 40.08272, 'count': 1}, {'lng': 116.26067, 'lat': 40.08267, 'count': 1}, {'lng': 116.2606, 'lat': 40.08236, 'count': 1}, {'lng': 116.26088, 'lat': 40.08173, 'count': 1}, {'lng': 116.26117, 'lat': 40.08114, 'count': 1}, {'lng': 116.26144, 'lat': 40.08061, 'count': 1}, {'lng': 116.2614, 'lat': 40.08035, 'count': 1}, {'lng': 116.26073, 'lat': 40.0801, 'count': 1}, {'lng': 116.25991, 'lat': 40.07985, 'count': 1}, {'lng': 116.25888, 'lat': 40.07954, 'count': 1}, {'lng': 116.25808, 'lat': 40.07928, 'count': 1}, {'lng': 116.25722, 'lat': 40.079, 'count': 1}, {'lng': 116.2566, 'lat': 40.07883, 'count': 1}, {'lng': 116.25604, 'lat': 40.07863, 'count': 1}, {'lng': 116.25559, 'lat': 40.0785, 'count': 1}, {'lng': 116.25536, 'lat': 40.07846, 'count': 1}, {'lng': 116.25473, 'lat': 40.07826, 'count': 1}, {'lng': 116.25409, 'lat': 40.07807, 'count': 1}, {'lng': 116.25361, 'lat': 40.0779, 'count': 1}, {'lng': 116.25333, 'lat': 40.07783, 'count': 1}, {'lng': 116.25327, 'lat': 40.07784, 'count': 1}, {'lng': 116.25326, 'lat': 40.07785, 'count': 1}, {'lng': 116.25315, 'lat': 40.07786, 'count': 1}, {'lng': 116.25307, 'lat': 40.07787, 'count': 1}, {'lng': 116.25301, 'lat': 40.07792, 'count': 1}, {'lng': 116.25298, 'lat': 40.07799, 'count': 1}, {'lng': 116.25296, 'lat': 40.07805, 'count': 1}, {'lng': 116.25293, 'lat': 40.07813, 'count': 1}, {'lng': 116.25289, 'lat': 40.07817, 'count': 1}, {'lng': 116.25287, 'lat': 40.07823, 'count': 1}, {'lng': 116.25287, 'lat': 40.07829, 'count': 1}, {'lng': 116.25282, 'lat': 40.07835, 'count': 1}, {'lng': 116.2528, 'lat': 40.0784, 'count': 1}, {'lng': 116.25277, 'lat': 40.07847, 'count': 1}, {'lng': 116.25272, 'lat': 40.07854, 'count': 1}, {'lng': 116.25265, 'lat': 40.07861, 'count': 1}, {'lng': 116.25256, 'lat': 40.07865, 'count': 1}, {'lng': 116.25245, 'lat': 40.07866, 'count': 1}, {'lng': 116.25238, 'lat': 40.07858, 'count': 1}, {'lng': 116.25227, 'lat': 40.07854, 'count': 1}, {'lng': 116.25217, 'lat': 40.07857, 'count': 1}, {'lng': 116.25204, 'lat': 40.07863, 'count': 1}, {'lng': 116.25193, 'lat': 40.07865, 'count': 1}, {'lng': 116.25227, 'lat': 40.07876, 'count': 1}, {'lng': 116.25285, 'lat': 40.07823, 'count': 2}, {'lng': 116.25222, 'lat': 40.07823, 'count': 1}, {'lng': 116.25225, 'lat': 40.07822, 'count': 11}, {'lng': 116.25227, 'lat': 40.07819, 'count': 20}, {'lng': 116.25225, 'lat': 40.07821, 'count': 4}, {'lng': 116.25226, 'lat': 40.07821, 'count': 1}, {'lng': 116.25211, 'lat': 40.07834, 'count': 1}, {'lng': 116.25201, 'lat': 40.07852, 'count': 1}, {'lng': 116.25206, 'lat': 40.07836, 'count': 2}, {'lng': 116.25202, 'lat': 40.07844, 'count': 1}, {'lng': 116.25201, 'lat': 40.07851, 'count': 2}, {'lng': 116.24907, 'lat': 40.07855, 'count': 1}, {'lng': 116.25208, 'lat': 40.07898, 'count': 2}, {'lng': 116.25168, 'lat': 40.07898, 'count': 4}, {'lng': 116.25166, 'lat': 40.07903, 'count': 113}, {'lng': 116.25165, 'lat': 40.07903, 'count': 12}, {'lng': 116.25167, 'lat': 40.07903, 'count': 35}, {'lng': 116.25122, 'lat': 40.0797, 'count': 4}, {'lng': 116.25165, 'lat': 40.07952, 'count': 2}, {'lng': 116.25257, 'lat': 40.0789, 'count': 2}, {'lng': 116.25242, 'lat': 40.07855, 'count': 1}, {'lng': 116.25254, 'lat': 40.07873, 'count': 2}, {'lng': 116.25169, 'lat': 40.07904, 'count': 3}];
 
 
    if(!isSupportCanvas()){
        alert('热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~')
    }
    //详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md
    //参数说明如下:
    /* visible 热力图是否显示,默认为true
     * opacity 热力的透明度,1-100
     * radius 势力图的每个点的半径大小
     * gradient  {JSON} 热力图的渐变区间 . gradient如下所示
     *  {
            .2:'rgb(0, 255, 255)',
            .5:'rgb(0, 110, 255)',
            .8:'rgb(100, 0, 255)'
        }
        其中 key 表示插值的位置, 0~1.
            value 为颜色值.
     */
    heatmapOverlay = new BMapLib.HeatmapOverlay({"radius":15,"visible":true});
    map.addOverlay(heatmapOverlay);
    heatmapOverlay.setDataSet({data:points,max:20});
	
    //closeHeatmap();
	
	
 
    //判断浏览区是否支持canvas
    function isSupportCanvas(){
        var elem = document.createElement('canvas');
        return !!(elem.getContext && elem.getContext('2d'));
    }
 
    function setGradient(){
        /*格式如下所示:
        {
            0:'rgb(102, 255, 0)',
            .5:'rgb(255, 170, 0)',
            1:'rgb(255, 0, 0)'
        }*/
        var gradient = {};
        var colors = document.querySelectorAll("input[type='color']");
        colors = [].slice.call(colors,0);
        colors.forEach(function(ele){
            gradient[ele.getAttribute("data-key")] = ele.value;
        });
        heatmapOverlay.setOptions({"gradient":gradient});
    }
 
    function openHeatmap(){
        heatmapOverlay.show();
    }
 
    function closeHeatmap(){
        heatmapOverlay.hide();
    }
</script>
</body>
</html>